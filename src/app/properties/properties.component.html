<div class="container">
  <div class="header">
    <div class="breadcrumb">
      <a href="/dashboard">Dashboard</a> &gt;
      <a href="/add-property" class="active">Add Property</a>
    </div>
  </div>

  <div class="card">
    <h2>Property Information</h2>

    <!-- Image Upload Section -->
    <div class="upload-box">
      <i class="fas fa-image"></i>
      <p>
        Drop your images here, or
        <input
          type="file"
          id="file-upload"
          multiple
          (change)="onFileSelected($event)"
        />
        <label for="file-upload" class="browse-link">click to browse</label>
      </p>
    </div>

    <!-- Show Loading Spinner While Submitting -->
    <div *ngIf="isLoading" class="loading-spinner">
      <i class="fas fa-spinner fa-spin"></i> Uploading Property...
    </div>

    <form (ngSubmit)="onSubmit()" *ngIf="!isLoading">
      <div class="form-grid">
        <div class="form-group">
          <label>Property Name</label>
          <input
            type="text"
            placeholder="Enter property name"
            [(ngModel)]="propertyDetails.propertyName"
            name="propertyName"
            required
          />
        </div>

        <div class="form-group">
          <label>Property Type</label>
          <select
            [(ngModel)]="propertyDetails.propertyType"
            name="propertyType"
            required
          >
            <option>Apartment</option>
            <option>Bungalow</option>
            <option>Commercial</option>
            <option>Land</option>
            <option>Other</option>
          </select>
        </div>

        <div class="form-group">
          <label>Price (KES)</label>
          <input
            type="text"
            placeholder="Enter price"
            [(ngModel)]="propertyDetails.price"
            name="price"
            required
          />
        </div>

        <div class="form-group">
          <label>City</label>
          <input
            type="text"
            placeholder="Enter city"
            [(ngModel)]="propertyDetails.city"
            name="city"
            required
          />
        </div>

        <div class="form-group">
          <label>Status</label>
          <select
            [(ngModel)]="propertyDetails.status"
            name="parkingSpace"
            required
          >
            <option>Available</option>
            <option>Sold</option>
          </select>
        </div>

        <div class="form-group">
          <label>Location</label>
          <input
            type="text"
            placeholder="Enter location"
            [(ngModel)]="propertyDetails.location"
            name="location"
            required
          />
        </div>

        <div class="form-group">
          <label>Square Feet</label>
          <input
            type="text"
            placeholder="Enter square feet"
            [(ngModel)]="propertyDetails.squareFeet"
            name="squareFeet"
            required
          />
        </div>

        <div class="form-group" *ngIf="!isLand()">
          <label>Bedrooms</label>
          <input
            type="number"
            placeholder="Enter number of bedrooms"
            [(ngModel)]="propertyDetails.bedrooms"
            name="bedrooms"
            required
          />
        </div>

        <div class="form-group" *ngIf="!isLand()">
          <label>Bathrooms</label>
          <input
            type="number"
            placeholder="Enter number of bathrooms"
            [(ngModel)]="propertyDetails.bathrooms"
            name="bathrooms"
            required
          />
        </div>

        <div class="form-group" *ngIf="!isLand()">
          <label>Parking Spaces</label>
          <select
            [(ngModel)]="propertyDetails.parkingSpace"
            name="parkingSpace"
            required
          >
            <option>Available</option>
            <option>Not Available</option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <label>Property Details</label>
        <textarea
          placeholder="Enter Property Details"
          [(ngModel)]="propertyDetails.propertyDetails"
          name="propertyDetails"
          required
        ></textarea>
      </div>

      <div class="form-actions">
        <button type="submit" class="add-btn">Add Property</button>
        <button
          type="button"
          class="view-properties-btn"
          [routerLink]="['/view-properties']"
        >
          View Properties
        </button>
      </div>
    </form>
  </div>
</div>